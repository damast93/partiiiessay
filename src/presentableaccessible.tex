\section{Locally presentable and accessible categories}
\label{sec:presentableaccessible}

Every set is the union of its finite subsets. More generally, every algebra in a variety $\cat K$ is a certain colimit of finitely presented algebras and there is, up to isomorphism, only a set of finitely presented algebras. We want to make precise in what sense this set ``generates'' the category $\cat K$ and then generalise these notions. \\

\textbf{Convention: } All categories in this essay will be locally small. All cardinals will be infinite regular cardinals.

\subsection{Directed and filtered colimits}

Let us recall the definition of directed colimits (confusingly known as ``direct limits'' in algebra):
\begin{Definition}
A nonempty poset is called \emph{$\lambda$-directed} if every subset of cardinality less than $\lambda$ has an upper bound.
\end{Definition}

We can generalise the notion of directedness from posets to arbitrary categories.

\begin{Definition}\
\begin{enumerate}
\item A category is called \emph{$\lambda$-small} if has less than $\lambda$ morphisms.
\item A category is called \emph{$\lambda$-filtered} if it is nonempty and every $\lambda$-small subcategory admits a cocone over it. 
\end{enumerate}
A colimit of a diagram $D : \cat I \to \cat K$ is called \emph{$\lambda$-filtered (resp. $\lambda$-directed)} if $\cat I$ is a $\lambda$-filtered category (resp. a $\lambda$-directed poset). We'll just say \emph{filtered (resp. directed)} for $\lambda = \aleph_0$.
\end{Definition}

It turns out that both notions are equivalent, and we will use them interchangably.

\begin{Proposition}A category $\cat C$ has $\lambda$-filtered colimits iff it has $\lambda$-directed colimits. For such categories, a functor $F : \cat C \to \cat D$ preserves $\lambda$-filtered colimits iff it preserves $\lambda$-directed ones.
\end{Proposition}

\begin{Example}\label{ex:Q}
In $\catname{Grp}$, we have 
\[ \text{``}\mathbb Q = \varinjlim \frac 1 n \mathbb Z\text{''}. \]
More precisely, $\mathbb Q$ is the colimit of the directed diagram
\begin{align*}
 D : (\mathbb N, |) &\to \catname{Grp}, n \mapsto \mathbb Z \\
 (n\, | \,m) &\mapsto \left(\mathbb Z \xrightarrow{m/n} \mathbb Z\right)
\end{align*}
Note that unlike e.g. coproducts, the underlying set of a filtered colimit is easy to describe. In all varieties, the forgetful functor to $\catname{Set}$ creates filtered colimits.
\end{Example}

The trademark feature of filtered colimits is that they commute with small limits in $\catname{Set}$.

\begin{Lemma}\label{prop:smallvsfiltered}
For every diagram $D : \cat I \times \cat J \to \catname{Set}$ with $\cat I$ $\lambda$-small and $\cat J$ $\lambda$-filtered, the induced morphism
\[ \colim_j \lim_i D(i,j) \to \lim_i \colim_j D(i,j) \]
is an isomorphism.
\end{Lemma}

\subsection{Presentable objects}
\begin{Definition}[Presentable object]\label{def:presentableobject}
An object $A$ of a category $\cat K$ is called \emph{$\lambda$-presentable} if its covariant Hom-functor 
\[ \hom(A,-) : \cat K \to \catname{Set} \]
preserves $\lambda$-filtered colimits.
\end{Definition}
Spelled out, this means that every morphism $A \xrightarrow{f} C = \colim_i D_i$ into a $\lambda$-filtered colimit already factors through one of the coprojections
\[ f = A \xrightarrow{f_i} D_i \xrightarrow{c_i} C \]
and the factorisation is essentially unique, so if \[ f = c_i\cdot f_i = c_j \cdot f_j, \]
there is an index $k$ in the diagram and maps $i \to k, j \to k$ such that
\[ D(i \to k)\cdot f_i = D(j \to k) \cdot f_j. \]

Note that every $\lambda$-presentable object is $\lambda'$-presentable for $\lambda' \geq \lambda$. In the case $\lambda=\aleph_0$, we simply say \emph{finitely presentable}. \\

\begin{Lemma}\label{prop:smallcolim} A $\lambda$-small colimit of $\lambda$-presentable objects is again $\lambda$-presentable.
\end{Lemma}
\begin{Proof}
Take a $\lambda$-small diagram $(A_i)$ of $\lambda$-presentable objects, and a $\lambda$-filtered diagram $(D_j)$. By the property \ref{prop:smallvsfiltered}, we get
\begin{align*}
\hom(\colim_i A_i, \colim_j D_j) &\cong \lim_i \hom(A_i, \colim_j D_j) \\
&\cong \lim_i \colim_j \hom(A_i, D_j) \\
&\cong \colim_j \lim_i \hom(A_i, D_j) \\
&\cong \colim_j \hom(\colim_i A_i, D_j),
\end{align*}
therefore $\hom(\colim_i A_i, -)$ preserves $\lambda$-filtered colimits as claimed.
\end{Proof}

\begin{Example}
In $\catname{Set}$, the singleton set $1$ is finitely presentable as $\hom(1,X) \cong X$ for every set, therefore
\[ \hom(1,\colim_i A_i) \cong \colim_i \hom(1,A_i) \]
for every diagram $(A_i)$. By \ref{prop:smallcolim}, a nonempty set $A$ is $\lambda$-presentable iff $|A| < \lambda$.
\end{Example}

The definition of presentable objects really captures what the name suggests: 

\begin{Proposition}\label{prop:varietypresentable} In a variety, an object $A$ is $\lambda$-presentable iff it has a presentation with less than $\lambda$ generators and relations in the usual algebraic sense.
\end{Proposition}
\textit{Idea: } Take $A$ with presentation on less than $\lambda$ generators and relations and take map $f : A \to C = \colim_i D_i$. Then all generators have to map set-theoretically into some $D_i$. Take a cocone over these, so all generators map into a single $D$, but the relations don't have to hold in $D$ yet, so we can't extend to a homomorphism of algebras. However the relations hold in $C$, so each relation has to start holding after some $D \to D_j$. Take a cocone over these to some $D^*$, now we can factor $f$ through it. \\

Conversely, let $A$ be $\lambda$-presentable.
\begin{enumerate}
\item \label{item:varietygen} $A$ is generated by less than $\lambda$ generators. Note that $A$ is the $\lambda$-directed union of its subalgebras with less than $\lambda$ generators, ordered by inclusion. The identity $A \xrightarrow{\id} A$ factors through one of these subalgebras as $A \to A_0 \to A$, but $A_0 \to A$ is an inclusion, thus we have an isomorphism. Denote the set of generators by $X$ where $|X| < \lambda$
\item Let \[ E = \{ (t_1 = t_2) \,|\, A \models (t_1 = t_2) \} \] be the set of equations in the generators $X$ that hold in $A$. $A$ is the $\lambda$-directed colimit of the diagram
\[ D = \{ \langle X|E_0\rangle : E_0 \subseteq E, |E_0| < \lambda \} \]
where the maps $\langle X|E_i\rangle \xrightarrow{\pi_{ij}} \langle X|E_j\rangle$ are the canonical projections corresponding to the inclusions $E_i \subseteq E_j$. Again we get a factorisation 
\[ A \xrightarrow{u} \langle X|E_0 \rangle \xrightarrow{\kappa_0} A \]
of the identity. Note that by \ref{item:varietygen}, $\langle X|E_0 \rangle$ is itself $\lambda$-presentable object and we have two factorisations $\kappa_0 = \kappa_0 \cdot u\kappa_0$ of a map into $A$. By the essential uniqueness in \ref{def:presentableobject}, we get a factorisation of $\kappa_0$ through some $\langle X|E_1 \rangle \xrightarrow{\kappa_1} A$ satisfying $\pi u \kappa_0 = \pi$. Now, $\kappa_1$ is an isomorphism as
\begin{align*}
\kappa_1 (\pi u) &= \kappa_0 u = \id_A \\
(\pi u) \kappa_1 \cdot \pi &= \pi u \kappa_0 = \id_A \cdot \pi
\end{align*}
thus $(\pi u) \kappa_1 = \id_A$ as $\pi$ is an epimorphism.
\end{enumerate}

\begin{Example}
The group $\mathbb Z$ is finitely presentable and by Example \ref{ex:Q}, $\mathbb Q$ is a $\aleph_1$-small colimit of copies of $\mathbb Z$, thus it is $\aleph_1$-presentable by Proposition \ref{prop:smallcolim}; note that we can indeed read off a presentation from the diagram as
\[ \mathbb Q \cong \left\langle x_n : n \in \mathbb N\,|\,x_n = k \cdot x_{nk} \right \rangle\]
\end{Example}

% Remove this?!
\begin{Example}
An element $c$ of a lattice $L$ is finitely presentable iff it is a \emph{compact element}, i.e. whenever
\[ c \leq \bigvee_i d_i \]
for a directed join, we have $c \leq d_i$ for some $i$. This generalises the topological notion of a compact set, where we take $L$ to be the lattice of open subsets.
\end{Example}


\subsection{Locally presentable and accessible categories}

%% Coole einleitende SÃ¤tze!

\begin{Definition}[Locally presentable category]
A category $\cat K$ is \emph{locally $\lambda$-presentable} if
\begin{enumerate}
\item $\cat K$ is cocomplete \label{item:cocomplete}
\item there is a set $\mathcal A$ of $\lambda$-presentable objects such that every object of $\cat K$ is a $\lambda$-filtered colimit of objects of $\mathcal A$.
\end{enumerate}
\end{Definition}

Accessibility is a weakening on condition \ref{item:cocomplete}:

\begin{Definition}[Accessible category]
A category $\cat K$ is \emph{$\lambda$-accessible} if
\begin{enumerate}
\item $\cat K$ is has $\lambda$-filtered colimits
\item there is a set $\mathcal A$ of $\lambda$-presentable objects such that every object of $\cat K$ is a $\lambda$-filtered colimit of objects of $\mathcal A$.
\end{enumerate}
\end{Definition}

We say a category is \emph{accessible} (\emph{locally presentable}) if it is $\lambda$-accessible (locally $\lambda$-presentable) for some $\lambda$. Again, for $\lambda = \aleph_0$, we say locally finitely presentable and finitely accessible. 

\begin{Example}
The category $\catname{Set}$ is locally finitely presentable, as every set is $\aleph_0$-directed colimit of its finite subsets by inclusion.
\end{Example}

Recall that in a category $\cat K$, a set $G$ of objects is called a \emph{strong generator} if morphisms out of $G$-objects can separate morphisms and proper subobjects in $\cat K$. If $\cat K$ is $\lambda$-accessible, the set $\mathcal A$ forms a strong generator for $\cat K$. For locally presentable categories, we have a converse that allows for a simpler definition:

\begin{Lemma}\label{lemma:stronggen}
A cocomplete category $\mathcal K$ is locally $\lambda$-presentable iff it has a strong generator of $\lambda$-presentable objects. 
\end{Lemma}

As an immediate corollary, we get that every locally $\lambda$-presentable category is also locally $\lambda'$-presentable for $\lambda' \geq \lambda$. The same strong generator will do! This situation stands in interesting contrast with accessible categories, where we only get the following: For every regular cardinal $\lambda$ there are arbitrarily large regular cardinals $\mu \geq \lambda$ such that every $\lambda$-accessible category is $\mu$-accessible. \\

Using \ref{lemma:stronggen} we can now give more examples

\begin{Example}\
\begin{enumerate}
\item Every variety is locally finitely presentable by the strong generator $\{ F(x) \}$ on the one-generator free algebra.

\item The category $\catname{Pos}$ of posets is locally finitely presentable, as it is cocomplete and $\{\mathbf 2\}$ is a strong generator. 

\item An infinitary ($\lambda$-ary) variety allows operations to have infinite arities $< \lambda$. For example, the theory of semilattices with countable suprema can be given as an equational theory with an operation
\[ \bigvee(x_1, x_2, \ldots) \]
forming an $\aleph_1$-ary variety. Analogously to finitary case, $\lambda$-ary varieties are locally $\lambda$-presentable categories. The only difference is that, while infinitary varieties are cocomplete, $\kappa$-filtered colimits are generally only created by the forgetful functor if $\kappa \geq \lambda$.

\item The category $\catname{Fld}$ of fields is finitely accessible. Even though the category is not cocomplete, it has \emph{filtered} colimits created by the forgetful functor to $\catname{Set}$. \\

Note that we captured the algebraic property that $F$ is finitely presentable as $\hom(F,-)$ preserving filtered colimits. In the same way, the statement that $F$ is finitely \emph{generated} translates into $\hom(F,-)$ perserving filtered colimits of monomorphisms. As every morphism in $\catname{Fld}$ is a monomorphism, this is no condition and the two notions coincide. Note that every field is the directed colimit of its finitely generated subfields by inclusion. \\

It remains to show that the class of finitely generated fields has a set of representatives: If $F$ is finitely generated, we have extensions $F/L/F_p$ where $F_p$ is the prime field of $F$, $L=F_p(\alpha_1,\ldots,\alpha_n)$ is purely transcendental and $F/L$ is finitely generated and algebraic, thus finite and the ring homomorphism
\[ L[x_1,\ldots,x_m] \to F \]
is surjective. Therefore the finitely generated fields are up to isomorphism quotients of the rings $F_p(\alpha_1, \ldots,\alpha_n)[x_1,\ldots,x_m]$ for the prime fields $F_0 = \mathbb Q$ and $F_p = \mathbb F_p$ for $p$ prime.
\end{enumerate}
\end{Example}

Another important example is the following
\begin{Example}
The functor category $\fun{\cat A}{\catname{Set}}$ is locally finitely presentable for every small category $\cat A$. We'll show that representable functors are finitely presentable objects. Let $yA = \hom(A,-)$ then $\hom(yA,-)$ actually preserves \emph{all} colimits as 
\[ \hom(yA, \colim_i F_i) \cong (\colim_i F_i)(A) \cong \colim_i F_i(A) \cong \colim_i \hom(yA, F_i). \]
By the Yoneda lemma, representables form generator of the functor category. To see that this generator is strong, note that the monomorphisms $F \xrightarrow{\alpha} G$ are pointwise-injective natural transformations because $\catname{Set}$ has pullbacks. Thus a proper subobject $\alpha$ leads to some element $x \in GA \setminus \alpha_A(FA)$ and the transformation $yA \xrightarrow{x} G$ doesn't factor through $F$. \\

\textbf{Remark: } We'll see in [??] that $\fun{\cat A}{\catname{Set}}$ is equivalent to a variety, so local presentability is no surprise.
\end{Example}

